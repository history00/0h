<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–í–∏–∫—Ç–æ—Ä–∏–Ω—ã</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="quiz-style.css">
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
</head>
<body>
    <div class="animated-background">
        <div class="particles-container" id="particles"></div>
        <div class="floating-elements">
            <div class="floating-element el-1">üèõ</div>
            <div class="floating-element el-2">‚öîÔ∏è</div>
            <div class="floating-element el-3">üëë</div>
            <div class="floating-element el-4">üìú</div>
            <div class="floating-element el-5">üèÜ</div>
        </div>
        <div class="gradient-overlay"></div>
        <div class="light-beam beam-1"></div>
        <div class="light-beam beam-2"></div>
        <div class="light-beam beam-3"></div>
    </div>

    <header>
        <div class="header-content">
            <div class="logo" onclick="window.location.href='index.html'">
                <div class="logo-icon">üìú</div>
                <div class="logo-text">
                    <h1>–í–∏–∫—Ç–æ—Ä–∏–Ω—ã</h1>
                    <p>11 –∫–ª–∞—Å—Å - –ò—Å—Ç–æ—Ä–∏—è –∏ –û–±—â–µ—Å—Ç–≤–æ–≤–µ–¥–µ–Ω–∏–µ</p>
                </div>
            </div>
            
<div class="header-buttons">
    <div class="textbook-btn" onclick="window.location.href='textbook.html'">
        <div class="textbook-icon">üìö</div>
    </div>
    <div class="class-wheel-btn" onclick="showClassSelector()">
        <div class="wheel-icon">üé°</div>
    </div>
</div>

            <nav class="luxury-nav">
                <a href="index.html" class="nav-item">–ì–ª–∞–≤–Ω–∞—è</a>
                <a href="quiz.html" class="nav-item active">–í–∏–∫—Ç–æ—Ä–∏–Ω—ã</a>
                <a href="leaders.html" class="nav-item">–¢–∞–±–ª–∏—Ü–∞ –ª–∏–¥–µ—Ä–æ–≤</a>
            </nav>
        </div>
    </header>

    <main class="quiz-container">
        <div id="quiz-selection" class="screen active">
            <div class="quiz-selection-header">
                <h2>–í—ã–±–µ—Ä–∏—Ç–µ —Ç–µ–º—É –¥–ª—è –≤–∏–∫—Ç–æ—Ä–∏–Ω—ã</h2>
            </div>

            <div class="quiz-grid">
                <div class="quiz-card" onclick="startQuiz('paragraph_14')">
                    <div class="quiz-image">
                        <img src="images/quiz_covers/culture_cover.jpg" alt="–ö—É–ª—å—Ç—É—Ä–∞ –ë–µ–ª–∞—Ä—É—Å–∏" class="quiz-cover-image">
                    </div>
                    <div class="quiz-content">
                        <h3 class="quiz-title">¬ß 14. –†–∞–∑–≤–∏—Ç–∏–µ –∫—É–ª—å—Ç—É—Ä—ã –ë–µ–ª–∞—Ä—É—Å–∏ –≤ XIX ‚Äî –Ω–∞—á–∞–ª–µ –•–• –≤.</h3>
                    </div>
                </div>

                <div class="quiz-card" onclick="startQuiz('paragraph_15')">
                    <div class="quiz-image">
                        <img src="images/quiz_covers/medieval_cover.jpg" alt="–ü–µ—Ä–≤–∞—è –º–∏—Ä–æ–≤–∞—è –≤–æ–π–Ω–∞" class="quiz-cover-image">
                    </div>
                    <div class="quiz-content">
                        <h3 class="quiz-title">¬ß 15. –ü–µ—Ä–≤–∞—è –º–∏—Ä–æ–≤–∞—è –≤–æ–π–Ω–∞ –∫–∞–∫ —Ä—É–±–µ–∂–Ω—ã–π –ø–µ—Ä–∏–æ–¥ –º–∏—Ä–æ–≤–æ–π –∏—Å—Ç–æ—Ä–∏–∏</h3>
                    </div>
                </div>

                <div class="quiz-card" onclick="startQuiz('paragraph_16')">
                    <div class="quiz-image">
                        <img src="images/quiz_covers/empire_cover.jpg" alt="–ë–µ–ª–∞—Ä—É—Å—å –≤ –ü–ú–í" class="quiz-cover-image">
                    </div>
                    <div class="quiz-content">
                        <h3 class="quiz-title">¬ß 16. –ë–µ–ª–∞—Ä—É—Å—å –≤ –≥–æ–¥—ã –ü–µ—Ä–≤–æ–π –º–∏—Ä–æ–≤–æ–π –≤–æ–π–Ω—ã</h3>
                    </div>
                </div>
            </div>
        </div>

        <div id="quiz-screen" class="screen">
            <div class="quiz-screen">
                <div class="quiz-header">
                    <div class="quiz-progress-section">
                        <div class="quiz-progress">
                            <div class="progress-bar">
                                <div class="progress-fill" id="progress-fill"></div>
                            </div>
                            <span id="progress-text">–í–æ–ø—Ä–æ—Å 1/26</span>
                        </div>
                    </div>
                    <div class="quiz-timer" id="quiz-timer">
                        <span>‚è±Ô∏è</span>
                        <span id="timer">0 —Å–µ–∫</span>
                    </div>
                </div>

                <div class="question-container">
                    <div class="question-content">
                        <div class="question-image" id="question-image"></div>
                        <div class="question-text-section">
                            <h2 class="question-text" id="question-text"></h2>
                            <div class="answers-grid" id="answers-container"></div>
                        </div>
                    </div>
                </div>

                <div class="quiz-feedback" id="quiz-feedback"></div>
                <div class="answer-explanation" id="answer-explanation"></div>

                <div class="quiz-navigation">
                    <div class="nav-left">
                        <button class="luxury-btn btn-secondary btn-square" onclick="restartQuiz()" title="–ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ">
                            <span>‚Ü∫</span>
                        </button>
                        <button class="luxury-btn btn-secondary btn-square" id="sound-toggle" onclick="toggleSound()" title="–ó–≤—É–∫">
                            <span id="sound-icon">üîä</span>
                        </button>
                    </div>
                    <button class="luxury-btn btn-primary next-btn-with-arrow" id="next-btn" onclick="nextQuestion()" style="display: none;">
                        <span id="next-btn-text">–°–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å</span>
                    </button>
                    <div class="nav-right">
                        <button class="luxury-btn btn-secondary btn-square" id="fullscreen-toggle" onclick="toggleFullscreen()" title="–ü–æ–ª–Ω—ã–π —ç–∫—Ä–∞–Ω">
                            <span id="fullscreen-icon">‚õ∂</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <div id="results-screen" class="screen">
            <div class="quiz-screen">
                <div class="results-header">
                    <div class="results-badge">
                        <div class="badge-icon">üéâ</div>
                        <div class="badge-text">–í–∏–∫—Ç–æ—Ä–∏–Ω–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!</div>
                    </div>
                    <h2>–ü–æ—Ç—Ä—è—Å–∞—é—â–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç!</h2>
                </div>
                
                <div class="results-stats">
                    <div class="result-stat">
                        <div class="stat-icon">‚úÖ</div>
                        <div class="stat-info">
                            <div class="stat-value" id="correct-answers">0/26</div>
                            <div class="stat-label">–ü—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤</div>
                        </div>
                    </div>
                    <div class="result-stat">
                        <div class="stat-icon">‚è±Ô∏è</div>
                        <div class="stat-info">
                            <div class="stat-value" id="time-spent">0 —Å–µ–∫</div>
                            <div class="stat-label">–ó–∞—Ç—Ä–∞—á–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è</div>
                        </div>
                    </div>
                    <div class="result-stat">
                        <div class="stat-icon">üìä</div>
                        <div class="stat-info">
                            <div class="stat-value" id="total-score">0</div>
                            <div class="stat-label">–ù–∞–±—Ä–∞–Ω–æ –±–∞–ª–ª–æ–≤</div>
                        </div>
                    </div>
                </div>

                <div class="nickname-selection-section">
                    <h3>–í–≤–µ–¥–∏—Ç–µ –≤–∞—à –Ω–∏–∫ –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã –ª–∏–¥–µ—Ä–æ–≤</h3>
                    <input type="text" id="player-nickname" class="nickname-input" placeholder="–í–∞—à –Ω–∏–∫" maxlength="20">
                    <div class="results-actions">
                        <button class="luxury-btn btn-secondary" onclick="restartQuiz()">
                            <span>–ü—Ä–æ–π—Ç–∏ –µ—â—ë —Ä–∞–∑</span>
                        </button>
                        <button class="luxury-btn btn-primary" onclick="saveResults()">
                            <span>–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ —Ä–µ–π—Ç–∏–Ω–≥</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer>
        <div class="footer-content">
            <div class="footer-main">
                <div class="footer-brand">
                    <div class="footer-logo">üìú</div>
                    <div class="footer-brand-text">
                        <h3>–í–∏–∫—Ç–æ—Ä–∏–Ω—ã</h3>
                        <p>–î–ª—è —Å–≤—è–∑–∏ - —Å–∫–æ—Ä–æ..</p>
                    </div>
                </div>
                <div class="footer-links">
                    <div class="link-group">
                        <h4>–ù–∞–≤–∏–≥–∞—Ü–∏—è</h4>
                        <a href="index.html">–ì–ª–∞–≤–Ω–∞—è</a>
                        <a href="quiz.html">–í–∏–∫—Ç–æ—Ä–∏–Ω—ã</a>
                        <a href="leaders.html">–¢–∞–±–ª–∏—Ü–∞ –ª–∏–¥–µ—Ä–æ–≤</a>
                    </div>
                    <div class="link-group">
                        <h4>–¢–µ–º—ã</h4>
                        <a href="quiz.html">–ö—É–ª—å—Ç—É—Ä–∞ –ë–µ–ª–∞—Ä—É—Å–∏</a>
                        <a href="quiz.html">–°—Ä–µ–¥–Ω–µ–≤–µ–∫–æ–≤—å–µ</a>
                        <a href="quiz.html">–†–æ—Å—Å–∏–π—Å–∫–∞—è –ò–º–ø–µ—Ä–∏—è</a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <div class="footer-info">
                    <p>&copy; 2025 –í–∏–∫—Ç–æ—Ä–∏–Ω—ã. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
                    <p>–ü—Ä–æ–µ–∫—Ç –¥–ª—è —É—á–∞—â–∏—Ö—Å—è 11 –∫–ª–∞—Å—Å–æ–≤</p>
                </div>
                <div class="footer-badge">
                    <span>üèÜ</span>
                    <span>–£—á–∏—Ç–µ—Å—å —Å –¥–æ—Å—Ç–æ–∏–Ω—Å—Ç–≤–æ–º</span>
                </div>
            </div>
        </div>
    </footer>

    <div id="class-selector-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>–í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à –∫–ª–∞—Å—Å</h3>
                <span class="close-modal" onclick="closeClassSelector()">&times;</span>
            </div>
            <div class="class-selector">
                <div class="class-option" data-class="–ê" onclick="selectClass('–ê')">
                    <div class="class-card">
                        <div class="class-icon">üî¨</div>
                        <div class="class-info">
                            <div class="class-name">11–ê</div>
                            <div class="class-label">–§–∏–∑–º–∞—Ç</div>
                        </div>
                        <div class="class-check">
                            <div class="check-circle"></div>
                        </div>
                    </div>
                </div>
                
                <div class="class-option" data-class="–ë" onclick="selectClass('–ë')">
                    <div class="class-card">
                        <div class="class-icon">üíº</div>
                        <div class="class-info">
                            <div class="class-name">11–ë</div>
                            <div class="class-label">–≠–∫–æ–Ω–æ–º</div>
                        </div>
                        <div class="class-check">
                            <div class="check-circle"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

<div id="wheel-modal" class="modal">
    <div class="modal-content wheel-modal-content">
        <div class="modal-header">
            <h3>üé° –ö–æ–ª–µ—Å–æ —Ñ–æ—Ä—Ç—É–Ω—ã - 11<span id="selected-class">–ê</span></h3>
            <span class="close-modal" onclick="closeWheelModal()">&times;</span>
        </div>
        <div class="wheel-container">
            <div id="wheel-wrapper">
                <canvas id="wheel-canvas"></canvas>
                <div id="wheel-arrow"></div>
                <div id="wheel-center">
                    <button id="spin-button">–ö–†–£–¢–ò–¢–¨</button>
                </div>
                <div id="wheel-status"></div>
            </div>
        </div>
    </div>
</div>

    <audio id="correct-sound" preload="auto">
        <source src="sounds/correct.mp3" type="audio/mpeg">
    </audio>
    <audio id="wrong-sound" preload="auto">
        <source src="sounds/wrong.mp3" type="audio/mpeg">
    </audio>

    <script>
        function createParticles() {
            const container = document.getElementById('particles');
            const particleCount = 30;
            
            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                
                const size = Math.random() * 4 + 1;
                const posX = Math.random() * 100;
                const posY = Math.random() * 100;
                const duration = Math.random() * 20 + 10;
                const delay = Math.random() * 5;
                
                particle.style.cssText = `
                    width: ${size}px;
                    height: ${size}px;
                    left: ${posX}%;
                    top: ${posY}%;
                    animation-duration: ${duration}s;
                    animation-delay: ${delay}s;
                    opacity: ${Math.random() * 0.3 + 0.1};
                `;
                
                container.appendChild(particle);
            }
        }

        function showClassSelector() {
            document.getElementById('class-selector-modal').style.display = 'block';
        }

        function closeClassSelector() {
            document.getElementById('class-selector-modal').style.display = 'none';
        }

        function selectClass(className) {
            document.getElementById('selected-class').textContent = className;
            closeClassSelector();
            showWheelModal();
        }

function showWheelModal() {
    const selectedClass = document.getElementById('selected-class').textContent;
    document.getElementById('wheel-modal').style.display = 'block';
    setTimeout(() => {
        if (typeof initWheel === 'function') {
            initWheel(selectedClass);
        }
    }, 300);
}

        function closeWheelModal() {
            document.getElementById('wheel-modal').style.display = 'none';
        }

        window.onclick = function(event) {
            const classModal = document.getElementById('class-selector-modal');
            const wheelModal = document.getElementById('wheel-modal');
            
            if (event.target === classModal) {
                closeClassSelector();
            }
            if (event.target === wheelModal) {
                closeWheelModal();
            }
        }

        document.addEventListener('DOMContentLoaded', function() {
            createParticles();
        });
    </script>

    <script src="quiz.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p2.js/0.6.0/p2.min.js"></script>
    <script src="wheel.js"></script>
</body>
</html>